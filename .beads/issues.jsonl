{"id":"AudioWhisper-191","title":"Add tests for AccessibilityPermissionManager","description":"Create tests for AccessibilityPermissionManager.\n\nFile to create: Tests/AccessibilityPermissionManagerTests.swift\n\nTest cases:\n1. Permission check logic\n2. Permission request flow\n3. State change notifications\n4. Polling behavior\n5. System Settings opening\n6. Error state handling\n\nNote: Actual permission APIs may need mocking/stubbing for CI.\n\nFile: Sources/AccessibilityPermissionManager.swift (363 lines)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:41:38.708591-05:00","updated_at":"2025-12-10T19:43:54.964195-05:00","closed_at":"2025-12-10T19:43:54.964195-05:00","labels":["testing"]}
{"id":"AudioWhisper-1x4","title":"Migrate PermissionManager to @Observable","description":"Convert PermissionManager from ObservableObject to @Observable macro.\n\nFile: Sources/PermissionManager.swift\n\nCurrent:\nclass PermissionManager: ObservableObject {\n    @Published var microphonePermissionState: PermissionState = .unknown\n    @Published var accessibilityPermissionState: PermissionState = .unknown\n    @Published var showEducationalModal = false\n    @Published var showRecoveryModal = false\n    ...\n}\n\nAfter:\n@Observable\nclass PermissionManager {\n    var microphonePermissionState: PermissionState = .unknown\n    var accessibilityPermissionState: PermissionState = .unknown\n    var showEducationalModal = false\n    var showRecoveryModal = false\n    ...\n}\n\nUpdate usage in ContentView, DashboardPermissionsView, WelcomeView.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:39:01.990386-05:00","updated_at":"2025-12-10T19:19:40.206811-05:00","closed_at":"2025-12-10T19:19:40.206811-05:00","labels":["observable","swift-cleanup"],"dependencies":[{"issue_id":"AudioWhisper-1x4","depends_on_id":"AudioWhisper-rie","type":"blocks","created_at":"2025-12-10T18:39:05.10693-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-24n","title":"Migrate cornerRadius to clipShape","description":"Replace cornerRadius() with clipShape(.rect(cornerRadius:)) in 7 files.\n\nFiles affected:\n- HotKeyRecorderView.swift\n- UnifiedModelRow.swift\n- WelcomeView.swift\n- TranscriptionHistoryView.swift\n- MLXModelManagementView.swift\n- SetupEnvironmentSheet.swift\n- PermissionModals.swift\n\nSearch: rg 'cornerRadius\\(' Sources/\nReplace: .cornerRadius(x) → .clipShape(.rect(cornerRadius: x))\n\nReason: cornerRadius deprecated, clipShape supports uneven corners.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:38:02.19669-05:00","updated_at":"2025-12-10T19:03:31.493141-05:00","closed_at":"2025-12-10T19:03:31.493141-05:00","labels":["deprecated-api","swift-cleanup"]}
{"id":"AudioWhisper-2nh","title":"Migrate SpeechToTextService to @Observable","description":"Convert SpeechToTextService from ObservableObject to @Observable macro.\n\nFile: Sources/SpeechToTextService.swift\n\nCurrent:\nclass SpeechToTextService: ObservableObject {\n    private let localWhisperService = LocalWhisperService()\n    private let parakeetService = ParakeetService()\n    private let keychainService: KeychainServiceProtocol\n    ...\n}\n\nNote: This class may have few/no @Published properties. Verify if ObservableObject is even needed, or if it can just be a regular class.\n\nUpdate usage in ContentView (@StateObject).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:39:10.826055-05:00","updated_at":"2025-12-10T19:44:00.471841-05:00","closed_at":"2025-12-10T19:44:00.471841-05:00","labels":["observable","swift-cleanup"],"dependencies":[{"issue_id":"AudioWhisper-2nh","depends_on_id":"AudioWhisper-rie","type":"blocks","created_at":"2025-12-10T18:39:14.682257-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-388","title":"Migrate AudioRecorder to @Observable","description":"Convert AudioRecorder from ObservableObject to @Observable macro.\n\nFile: Sources/AudioRecorder.swift\n\nCurrent:\nclass AudioRecorder: NSObject, ObservableObject {\n    @Published var isRecording = false\n    @Published var audioLevel: Float = 0.0\n    @Published var hasPermission = false\n    ...\n}\n\nAfter:\n@Observable\nclass AudioRecorder: NSObject {\n    var isRecording = false\n    var audioLevel: Float = 0.0\n    var hasPermission = false\n    ...\n}\n\nUpdate all usage sites:\n- ContentView.swift: @StateObject → remove wrapper or use @State\n- Any @ObservedObject references\n\nReason: @Observable is simpler, faster, and has smarter view invalidation.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:38:33.887315-05:00","updated_at":"2025-12-10T19:17:00.726063-05:00","closed_at":"2025-12-10T19:17:00.726063-05:00","labels":["observable","swift-cleanup"],"dependencies":[{"issue_id":"AudioWhisper-388","depends_on_id":"AudioWhisper-rie","type":"blocks","created_at":"2025-12-10T18:38:36.862922-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-3ea","title":"Replace String(format:) with type-safe formatting","description":"Replace C-style String(format:) with Swift type-safe formatting in 5 files.\n\nFiles affected:\n- AudioValidator.swift\n- DashboardPreferencesView.swift\n- TranscriptionRecord.swift\n- DashboardView.swift\n- SpeechToTextService.swift\n\nSearch: rg 'String\\(format:' Sources/\n\nReplace examples:\n  String(format: \"%.2f\", value) → value.formatted(.number.precision(.fractionLength(2)))\n  Text(String(format: \"%.1f%%\", pct)) → Text(pct / 100, format: .percent.precision(.fractionLength(1)))\n\nFor non-Text contexts, use value.formatted() or FormatStyle.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:38:13.343063-05:00","updated_at":"2025-12-10T19:09:59.696001-05:00","closed_at":"2025-12-10T19:09:59.696001-05:00","labels":["code-quality","swift-cleanup"]}
{"id":"AudioWhisper-3jo","title":"Restructure Sources directory","description":"Reorganize flat Sources/ into logical subdirectories.\n\nProposed structure:\nSources/\n├── App/              # App entry, environment, setup\n├── Core/\n│   ├── Audio/        # AudioProcessor, AudioRecorder, AudioValidator\n│   ├── Transcription/# Services, types, errors\n│   ├── Correction/   # Semantic correction services\n│   └── Models/       # Model managers\n├── UI/\n│   ├── Dashboard/    # All dashboard views\n│   ├── Main/         # ContentView, RecordingButton, Status\n│   ├── History/      # Transcription history views\n│   ├── Setup/        # Welcome, permissions, setup\n│   ├── Components/   # Reusable view components\n│   └── Windows/      # Window controllers\n├── Services/         # DataManager, Keychain, Paste, Sound, etc.\n├── Permissions/      # Permission managers\n├── Utilities/        # Helpers, extensions, logging\n├── Stores/           # Observable stores\n├── Extensions/       # Swift extensions\n├── Scripts/          # Python files\n└── Resources/        # Assets, bundled files\n\nUpdate Package.swift paths after restructure.\nUpdate import statements if needed.\nRun full test suite after changes.\n\nDo this AFTER file splits are complete to minimize conflicts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:42:25.141878-05:00","updated_at":"2025-12-10T19:50:15.47752-05:00","closed_at":"2025-12-10T19:50:15.47752-05:00","labels":["dx","refactor"],"dependencies":[{"issue_id":"AudioWhisper-3jo","depends_on_id":"AudioWhisper-r5w","type":"blocks","created_at":"2025-12-10T18:42:31.166058-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-3jo","depends_on_id":"AudioWhisper-vu8","type":"blocks","created_at":"2025-12-10T18:42:31.214463-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-3jo","depends_on_id":"AudioWhisper-4s7","type":"blocks","created_at":"2025-12-10T18:42:31.261412-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-3jo","depends_on_id":"AudioWhisper-t0g","type":"blocks","created_at":"2025-12-10T18:42:31.309311-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-3jo","depends_on_id":"AudioWhisper-j0y","type":"blocks","created_at":"2025-12-10T18:42:31.358273-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-4o3","title":"Parallel MLX warmup during transcription","description":"In SpeechToTextService.transcribeWithParakeet, fire daemon.warmup for MLX correction model concurrently with transcription. Model loaded by time transcription completes. ~4s overlap savings.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T09:42:18.733555-05:00","updated_at":"2025-12-10T10:04:18.174211-05:00","closed_at":"2025-12-10T10:04:18.174211-05:00","dependencies":[{"issue_id":"AudioWhisper-4o3","depends_on_id":"AudioWhisper-ib9","type":"blocks","created_at":"2025-12-10T09:42:24.925147-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-4o3","depends_on_id":"AudioWhisper-wv3","type":"blocks","created_at":"2025-12-10T09:42:24.97759-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-4s7","title":"Split AudioWhisperApp.swift","description":"AudioWhisperApp.swift is 642 lines - extract notification handling.\n\nFile: Sources/AudioWhisperApp.swift\n\nSuggested extraction:\n1. AppNotificationHandler.swift - Notification observers setup\n2. AppMenuBarSetup.swift - Menu bar configuration  \n3. AppLifecycle.swift - App lifecycle callbacks\n\nKeep AudioWhisperApp.swift focused on @main entry point and Scene composition.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:40:00.30227-05:00","updated_at":"2025-12-10T19:27:28.031776-05:00","closed_at":"2025-12-10T19:27:28.031776-05:00","labels":["code-quality","refactor"]}
{"id":"AudioWhisper-51c","title":"Create DashboardRecordingView for microphone and hotkey settings","description":"Create the Recording settings section view for the dashboard.\n\n**Create file:** Sources/DashboardRecordingView.swift\n\n**Settings to include (from SettingsView.swift):**\n\n1. **Microphone Selection** (lines 108-118)\n   - `@AppStorage(\"selectedMicrophone\")` — String, default \"\"\n   - Picker with available microphones from AVCaptureDevice.DiscoverySession\n   - \"System Default\" option for empty string\n\n2. **Global Hotkey** (lines 120-145)\n   - `@AppStorage(\"globalHotkey\")` — String, default \"⌘⇧Space\"\n   - Display current hotkey\n   - \"Change\" button triggers HotKeyRecorderView\n   - On complete, post `.updateGlobalHotkey` notification\n\n3. **Press \u0026 Hold Hotkey** (lines 147-183)\n   - `@AppStorage(\"pressAndHoldEnabled\")` — Bool, default false\n   - `@AppStorage(\"pressAndHoldKeyIdentifier\")` — String (PressAndHoldKey.rawValue)\n   - `@AppStorage(\"pressAndHoldModeRaw\")` — String (PressAndHoldMode.rawValue)\n   - Toggle for enable/disable\n   - Picker for mode (Hold vs Toggle) — segmented style\n   - Picker for key (Right Command, Left Option, etc.)\n   - Info text explaining the feature\n   - On change, call `publishPressAndHoldConfiguration()` which posts `.pressAndHoldSettingsChanged`\n\n**Structure:**\n```swift\nstruct DashboardRecordingView: View {\n    @AppStorage(...) // all the bindings\n    @State private var availableMicrophones: [AVCaptureDevice] = []\n    @State private var isRecordingHotkey = false\n    // etc.\n    \n    var body: some View {\n        ScrollView {\n            VStack(alignment: .leading, spacing: 24) {\n                // Header\n                Text(\"Recording\")\n                    .font(.system(size: 24, weight: .semibold))\n                    .foregroundColor(.white)\n                \n                // Microphone card\n                SettingsSectionCard(title: \"Microphone\", icon: \"mic.fill\", iconColor: .blue) {\n                    // Picker content\n                }\n                \n                // Global Hotkey card\n                SettingsSectionCard(title: \"Global Hotkey\", icon: \"command\", iconColor: .orange) {\n                    // Hotkey display + change button + recorder\n                }\n                \n                // Press \u0026 Hold card\n                SettingsSectionCard(title: \"Press \u0026 Hold\", icon: \"hand.tap.fill\", iconColor: .purple) {\n                    // Toggle + conditional pickers\n                }\n            }\n            .padding(32)\n        }\n        .background(DashboardTheme.contentBackground)\n        .onAppear { loadAvailableMicrophones() }\n    }\n}\n```\n\n**Required imports:**\n```swift\nimport SwiftUI\nimport AVFoundation\nimport HotKey\n```\n\n**Helper functions to include:**\n- `loadAvailableMicrophones()` — from SettingsView\n- `updateGlobalHotkey(_:)` — posts notification\n- `publishPressAndHoldConfiguration()` — builds config and posts notification\n\n**Acceptance:** View displays all recording settings, changes persist to UserDefaults, notifications fire correctly.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T14:39:32.525018-05:00","updated_at":"2025-12-10T14:57:26.79321-05:00","closed_at":"2025-12-10T14:57:26.79321-05:00","labels":["dashboard","recording","settings"],"dependencies":[{"issue_id":"AudioWhisper-51c","depends_on_id":"AudioWhisper-an3","type":"blocks","created_at":"2025-12-10T14:41:19.716266-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-51c","depends_on_id":"AudioWhisper-wzr","type":"blocks","created_at":"2025-12-10T14:41:19.764437-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-51c","depends_on_id":"AudioWhisper-k2u","type":"blocks","created_at":"2025-12-10T14:41:19.812141-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-5cg","title":"Migrate StatusViewModel to @Observable","description":"Convert StatusViewModel from ObservableObject to @Observable macro.\n\nFile: Sources/AppStatus.swift\n\nCurrent:\nclass StatusViewModel: ObservableObject {\n    @Published var currentStatus: AppStatus = .ready\n    \n    func updateStatus(...) { ... }\n}\n\nAfter:\n@Observable\nclass StatusViewModel {\n    var currentStatus: AppStatus = .ready\n    \n    func updateStatus(...) { ... }\n}\n\nUpdate usage in ContentView (@StateObject → @State or direct reference).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:39:19.481274-05:00","updated_at":"2025-12-10T19:21:36.17379-05:00","closed_at":"2025-12-10T19:21:36.17379-05:00","labels":["observable","swift-cleanup"],"dependencies":[{"issue_id":"AudioWhisper-5cg","depends_on_id":"AudioWhisper-rie","type":"blocks","created_at":"2025-12-10T18:39:22.598367-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-5cl","title":"Add explicit access control modifiers","description":"Audit and add explicit access control (private/internal/public) to types and members.\n\nReview all files for:\n1. Helper functions that should be private\n2. Properties that should be private(set)\n3. Types that should be internal (not public)\n4. Extension methods that should be fileprivate\n\nRun audit: rg '^func |^var |^let |^class |^struct |^enum ' --type swift Sources/\n\nSwiftLint rule 'explicit_acl' can enforce this after SwiftLint is configured.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-10T18:40:51.437741-05:00","updated_at":"2025-12-10T20:30:53.590136-05:00","closed_at":"2025-12-10T20:30:53.590136-05:00","labels":["code-quality","swift-cleanup"],"dependencies":[{"issue_id":"AudioWhisper-5cl","depends_on_id":"AudioWhisper-ebd","type":"blocks","created_at":"2025-12-10T18:40:54.684814-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-5t8","title":"Add tests for AudioValidator","description":"Create tests for AudioValidator.\n\nFile to create: Tests/AudioValidatorTests.swift\n\nTest cases:\n1. Valid audio file detection\n2. Invalid format rejection\n3. Duration validation\n4. Empty file handling\n5. Corrupted file handling\n\nFile: Sources/AudioValidator.swift","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:43:08.104884-05:00","updated_at":"2025-12-10T19:53:04.010976-05:00","closed_at":"2025-12-10T19:53:04.010976-05:00","labels":["testing"]}
{"id":"AudioWhisper-600","title":"Create MLDaemonManager.swift","description":"Swift actor managing the Python daemon lifecycle. Lazy spawn on first use. Auto-restart on crash. Request/response correlation via IDs. Graceful shutdown on app termination.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T09:42:04.941952-05:00","updated_at":"2025-12-10T09:54:22.316489-05:00","closed_at":"2025-12-10T09:54:22.316489-05:00","dependencies":[{"issue_id":"AudioWhisper-600","depends_on_id":"AudioWhisper-8fv","type":"blocks","created_at":"2025-12-10T09:42:24.763617-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-6at","title":"Add GitHub Actions CI workflow","description":"Create .github/workflows/ci.yml:\n- Trigger on push/PR to main\n- Run swift build\n- Run swift test\n- Run swiftlint (after SwiftLint config added)\n- Cache SPM dependencies\n\nMatrix: macOS-14 with Xcode 15+","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:37:45.566166-05:00","updated_at":"2025-12-10T19:05:18.039484-05:00","closed_at":"2025-12-10T19:05:18.039484-05:00","labels":["ci","tooling"],"dependencies":[{"issue_id":"AudioWhisper-6at","depends_on_id":"AudioWhisper-ebd","type":"blocks","created_at":"2025-12-10T18:37:49.642999-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-6b9","title":"Cache DateFormatter instances","description":"Move DateFormatter creation out of computed properties/body into static cached instances.\n\nFiles affected:\n- TranscriptionRecord.swift: DateFormatter() in computed property\n- DashboardView.swift: 2x DateFormatter() inline\n\nSearch: rg 'DateFormatter\\(\\)' Sources/\n\nPattern:\n// Before (in body or computed prop)\nlet formatter = DateFormatter()\nformatter.dateStyle = .short\n\n// After (static cached)\nprivate static let dateFormatter: DateFormatter = {\n    let f = DateFormatter()\n    f.dateStyle = .short\n    return f\n}()\n\nReason: DateFormatter is expensive to create, should not be in body.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:38:20.025701-05:00","updated_at":"2025-12-10T19:43:55.105594-05:00","closed_at":"2025-12-10T19:43:55.105594-05:00","labels":["performance","swift-cleanup"]}
{"id":"AudioWhisper-6cz","title":"Review and replace GeometryReader usage","description":"Review GeometryReader usage and replace with modern alternatives where possible.\n\nFiles affected:\n- Sources/StatusDisplayComponents.swift\n- Sources/DashboardView.swift\n\nAlternatives to consider:\n- containerRelativeFrame() for relative sizing\n- visualEffect() for geometry-based effects\n- Layout protocol for complex layouts\n\nGeometryReader should only be used when truly needed for:\n- Reading actual size values\n- Complex coordinate space calculations\n\nSearch: rg 'GeometryReader' Sources/","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:40:31.920565-05:00","updated_at":"2025-12-10T19:47:17.077341-05:00","closed_at":"2025-12-10T19:47:17.077341-05:00","labels":["performance","swift-cleanup"]}
{"id":"AudioWhisper-6io","title":"Add tests for AudioProcessor","description":"Create tests for AudioProcessor.\n\nFile to create: Tests/AudioProcessorTests.swift\n\nTest cases:\n1. Audio format conversion\n2. Sample rate handling\n3. Channel configuration\n4. Buffer processing\n5. Error handling for invalid audio\n\nFile: Sources/AudioProcessor.swift","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:43:04.323577-05:00","updated_at":"2025-12-10T19:52:31.16583-05:00","closed_at":"2025-12-10T19:52:31.16583-05:00","labels":["testing"]}
{"id":"AudioWhisper-78b","title":"Migrate Task.sleep(nanoseconds:) to Task.sleep(for:)","description":"Replace Task.sleep(nanoseconds:) with Task.sleep(for:) in 5 files.\n\nFiles affected:\n- ContentView.swift\n- ModelManager.swift\n- DashboardCorrectionView.swift\n- UnifiedModelRow.swift\n- DashboardProvidersView.swift\n\nSearch: rg 'Task\\.sleep\\(nanoseconds' Sources/\nReplace examples:\n  Task.sleep(nanoseconds: 1_000_000_000) → Task.sleep(for: .seconds(1))\n  Task.sleep(nanoseconds: 500_000_000) → Task.sleep(for: .milliseconds(500))\n\nReason: nanoseconds variant is deprecated.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:38:07.109054-05:00","updated_at":"2025-12-10T19:03:37.893063-05:00","closed_at":"2025-12-10T19:03:37.893063-05:00","labels":["deprecated-api","swift-cleanup"]}
{"id":"AudioWhisper-79h","title":"Add tests for KeyboardEventHandler","description":"Create tests for KeyboardEventHandler.\n\nFile to create: Tests/KeyboardEventHandlerTests.swift\n\nTest cases:\n1. Key event detection\n2. Modifier key handling\n3. Event propagation\n4. Registration/deregistration\n5. Multiple handler priority\n\nFile: Sources/KeyboardEventHandler.swift\n\nMock: CGEvent creation for test inputs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:41:56.900402-05:00","updated_at":"2025-12-10T20:32:49.695095-05:00","closed_at":"2025-12-10T20:32:49.695095-05:00","labels":["testing"]}
{"id":"AudioWhisper-7c3","title":"Add tests for PythonDetector","description":"Create tests for PythonDetector.\n\nFile to create: Tests/PythonDetectorTests.swift\n\nTest cases:\n1. Python installation detection\n2. Version parsing\n3. Multiple Python version handling\n4. PATH resolution\n5. Error handling for no Python\n\nFile: Sources/PythonDetector.swift","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:41:52.658465-05:00","updated_at":"2025-12-10T19:47:10.025606-05:00","closed_at":"2025-12-10T19:47:10.025606-05:00","labels":["testing"]}
{"id":"AudioWhisper-816","title":"Add tests for SoundManager","description":"Create tests for SoundManager.\n\nFile to create: Tests/SoundManagerTests.swift\n\nTest cases:\n1. Sound playback triggering\n2. Sound muting\n3. System sound integration\n4. Error handling\n\nFile: Sources/SoundManager.swift\n\nNote: May need audio mocking for CI environments.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-10T18:42:13.609758-05:00","updated_at":"2025-12-10T20:32:49.839696-05:00","closed_at":"2025-12-10T20:32:49.839696-05:00","labels":["testing"]}
{"id":"AudioWhisper-822","title":"Default semantic correction to 1B model","description":"Change default model from Llama-3.2-3B-Instruct-4bit to Llama-3.2-1B-Instruct-4bit in SemanticCorrectionService.swift and SettingsView.swift. Quick win ~5s faster inference.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-10T09:41:52.709142-05:00","updated_at":"2025-12-10T09:45:37.440821-05:00","closed_at":"2025-12-10T09:45:37.440821-05:00"}
{"id":"AudioWhisper-8ey","title":"Add tests for AudioRecorder","description":"Create comprehensive tests for AudioRecorder.\n\nFile to create: Tests/AudioRecorderTests.swift\n\nTest cases:\n1. Permission state handling\n2. Recording start/stop lifecycle\n3. Audio level updates\n4. Error handling for missing permissions\n5. Concurrent recording prevention\n6. Audio file creation and cleanup\n\nMock AVAudioRecorder (existing: Tests/Mocks/MockAVAudioRecorder.swift)\n\nCoverage targets:\n- All public methods\n- State transitions\n- Error paths","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:41:17.120242-05:00","updated_at":"2025-12-10T19:43:55.010346-05:00","closed_at":"2025-12-10T19:43:55.010346-05:00","labels":["testing"],"dependencies":[{"issue_id":"AudioWhisper-8ey","depends_on_id":"AudioWhisper-388","type":"blocks","created_at":"2025-12-10T18:41:20.706493-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-8fv","title":"Create ml_daemon.py for persistent model serving","description":"Create single Python daemon handling both Parakeet transcription and MLX correction. JSON-RPC over stdin/stdout. Model cache keeps loaded models in memory. Commands: transcribe, correct, ping, warmup. Major optimization ~10s saved after first call.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T09:41:59.397223-05:00","updated_at":"2025-12-10T09:45:34.229513-05:00","closed_at":"2025-12-10T09:45:34.229513-05:00"}
{"id":"AudioWhisper-8h0","title":"Add tests for AppCategoryManager","description":"Create tests for AppCategoryManager.\n\nFile to create: Tests/AppCategoryManagerTests.swift\n\nTest cases:\n1. Category assignment\n2. Bundle ID lookup\n3. Default category handling\n4. Category persistence\n\nFile: Sources/AppCategoryManager.swift","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:42:09.607032-05:00","updated_at":"2025-12-10T19:52:53.119282-05:00","closed_at":"2025-12-10T19:52:53.119282-05:00","labels":["testing"]}
{"id":"AudioWhisper-9rx","title":"Fix try! force unwrap in HistoryWindowManager","description":"Replace try! with proper error handling.\n\nFile: Sources/HistoryWindowManager.swift\n\nSearch: rg 'try!' Sources/\n\nReplace try! with do/try/catch and handle errors appropriately:\n- Log error\n- Show user feedback if needed\n- Provide fallback behavior\n\nReason: Force unwraps crash the app on failure.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:40:17.629998-05:00","updated_at":"2025-12-10T19:02:54.233213-05:00","closed_at":"2025-12-10T19:02:54.233213-05:00","labels":["code-quality","swift-cleanup"]}
{"id":"AudioWhisper-9uw","title":"Add tests for MLDaemonManager","description":"Create tests for MLDaemonManager.\n\nFile to create: Tests/MLDaemonManagerTests.swift\n\nTest cases:\n1. Daemon startup/shutdown\n2. Health check\n3. Request/response handling\n4. Connection management\n5. Retry logic\n6. Timeout handling\n7. Process lifecycle\n\nFile: Sources/MLDaemonManager.swift (327 lines)\n\nConsider: May need process mocking for unit tests, or integration test approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:41:43.776891-05:00","updated_at":"2025-12-10T19:18:48.070126-05:00","closed_at":"2025-12-10T19:18:48.070126-05:00","labels":["testing"]}
{"id":"AudioWhisper-an3","title":"Extend DashboardNavItem enum with settings navigation items","description":"Add new navigation items to DashboardNavItem enum in DashboardView.swift for settings sections.\n\n**File:** Sources/DashboardView.swift\n\n**Current enum (line ~33):**\n```swift\nenum DashboardNavItem: String, CaseIterable, Identifiable {\n    case dashboard = \"Dashboard\"\n    case transcripts = \"Transcripts\"\n    case categories = \"Categories\"\n    // ...\n}\n```\n\n**Add these cases:**\n- `case recording = \"Recording\"` — icon: `waveform.badge.mic`\n- `case providers = \"Providers\"` — icon: `cloud.fill`\n- `case correction = \"Correction\"` — icon: `text.badge.checkmark`\n- `case preferences = \"Preferences\"` — icon: `gearshape`\n- `case permissions = \"Permissions\"` — icon: `lock.shield`\n\n**Update the `icon` computed property** to return appropriate SF Symbols for each new case.\n\n**Update `sidebarNavButton` usage** in the sidebar VStack (around line ~87) to include the new items. Group them visually — maybe add a divider or section header between the existing items (Dashboard, Transcripts, Categories) and the new settings items.\n\n**Update `mainContent` ViewBuilder** (around line ~161) to add placeholder cases that return `Text(\"Coming soon\")` for now — actual views will be wired in later.\n\n**Acceptance:** App compiles, sidebar shows new nav items, clicking them shows placeholder text.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-10T14:38:49.33481-05:00","updated_at":"2025-12-10T14:50:03.839771-05:00","closed_at":"2025-12-10T14:50:03.839771-05:00","labels":["dashboard","foundation","settings"]}
{"id":"AudioWhisper-aot","title":"Create DashboardProvidersView for STT provider and model settings","description":"Create the Providers settings section view for the dashboard. This is the largest section.\n\n**Create file:** Sources/DashboardProvidersView.swift\n\n**Settings to include (from SettingsView.swift):**\n\n1. **Transcription Provider Picker** (lines 265-275)\n   - `@AppStorage(\"transcriptionProvider\")` — TranscriptionProvider enum\n   - Picker with all TranscriptionProvider.allCases\n\n2. **Cloud Provider Settings** (shown when provider is .openai or .gemini):\n   - API Key input (lines 278-330)\n     - SecureField/TextField with show/hide toggle\n     - Save button → calls `saveAPIKey(_:service:account:)`\n     - Link to get API key\n   - Advanced settings (expandable, lines 332-365)\n     - `@AppStorage(\"openAIBaseURL\")` or `@AppStorage(\"geminiBaseURL\")`\n     - TextField for custom endpoint\n\n3. **Parakeet Settings** (shown when provider is .parakeet, lines 368-460):\n   - Info banner (Apple Silicon required, Python deps)\n   - Model picker: `@AppStorage(\"selectedParakeetModel\")` — ParakeetModel enum\n   - Environment status display (`envReady` state)\n   - \"Install Dependencies\" button → `runUvSetupSheet()`\n   - \"Verify Parakeet Model\" button\n   - Links to HuggingFace cache folder\n\n4. **Local Whisper Settings** (shown when provider is .local, lines 463-600):\n   - Model list using UnifiedModelRow\n   - For each WhisperModel.allCases, create LocalWhisperEntry and render UnifiedModelRow\n   - Download/delete actions via ModelManager.shared\n   - Storage limit picker: `@AppStorage(\"maxModelStorageGB\")`\n   - Storage usage display\n   - \"Verify Selected Model\" button\n   - \"Show in Finder\" button\n\n**State needed:**\n```swift\n@StateObject private var modelManager = ModelManager.shared\n@State private var openAIKey = \"\"\n@State private var geminiKey = \"\"\n@State private var showOpenAIKey = false\n@State private var showGeminiKey = false\n@State private var showAdvancedAPISettings = false\n@State private var envReady = false\n@State private var isCheckingEnv = false\n@State private var isVerifyingParakeet = false\n@State private var parakeetVerifyMessage: String?\n@State private var isVerifyingLocalWhisper = false\n@State private var localWhisperVerifyMessage: String?\n@State private var downloadError: String?\n@State private var showSetupSheet = false\n@State private var isSettingUp = false\n@State private var setupLogs = \"\"\n@State private var setupStatus: String?\n```\n\n**Helper functions to copy from SettingsView:**\n- `loadAPIKeys()`\n- `saveAPIKey(_:service:account:)`\n- `checkEnvReady()`\n- `venvPythonPath()`\n- `verifyParakeetModel()`\n- `verifyLocalWhisperModel()`\n- `localWhisperModelPath(for:)`\n- `downloadModel(_:)`\n- `deleteModel(_:)`\n- `loadModelStates()`\n- `formatBytes(_:)`\n- `showModelsInFinder()`\n- `runUvSetupSheet(title:onComplete:)`\n- `revealEnvInFinder()`\n\n**KeychainService:** Use `KeychainService.shared` for API key storage (same as SettingsView).\n\n**Structure:** Use SettingsSectionCard for each logical group. Show/hide cards based on selected provider.\n\n**Sheet:** Include `.sheet(isPresented: $showSetupSheet)` for SetupEnvironmentSheet.\n\n**Acceptance:** All provider settings work, API keys save to keychain, models download/delete correctly, env setup works.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T14:39:53.373209-05:00","updated_at":"2025-12-10T14:56:30.633889-05:00","closed_at":"2025-12-10T14:56:30.633889-05:00","labels":["dashboard","models","providers","settings"],"dependencies":[{"issue_id":"AudioWhisper-aot","depends_on_id":"AudioWhisper-an3","type":"blocks","created_at":"2025-12-10T14:41:23.00829-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-aot","depends_on_id":"AudioWhisper-wzr","type":"blocks","created_at":"2025-12-10T14:41:23.056291-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-b6m","title":"Fix failing SemanticCorrectionTests","description":"3 tests failing in SemanticCorrectionTests:\n- testRecommendedModelsContent: XCTAssertTrue/XCTAssertFalse failed\n- testRecommendedModelsCount: Expected 2 models, got 4\n\nFile: Tests/SemanticCorrectionTests.swift (lines 146, 156, 160)\nLikely cause: recommendedModels list changed but tests not updated.\n\nRun: swift test --filter SemanticCorrectionTests","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-10T18:37:30.950983-05:00","updated_at":"2025-12-10T19:18:22.967009-05:00","closed_at":"2025-12-10T19:18:22.967009-05:00","labels":["bugfix","testing"]}
{"id":"AudioWhisper-b89","title":"Add tests for PressAndHoldKeyMonitor","description":"Create tests for PressAndHoldKeyMonitor.\n\nFile to create: Tests/PressAndHoldKeyMonitorTests.swift\n\nTest cases:\n1. Key press detection\n2. Hold duration tracking\n3. Release detection\n4. Multiple key handling\n5. Monitor start/stop lifecycle\n\nFile: Sources/PressAndHoldKeyMonitor.swift","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:43:12.068897-05:00","updated_at":"2025-12-10T19:56:35.901595-05:00","closed_at":"2025-12-10T19:56:35.901595-05:00","labels":["testing"]}
{"id":"AudioWhisper-c7f","title":"Create DashboardPermissionsView for system permissions management","description":"Create the Permissions settings section view for the dashboard. This is NEW functionality — currently permissions are only checked/requested at recording time.\n\n**Create file:** Sources/DashboardPermissionsView.swift\n\n**Purpose:** Give users a dedicated place to see and manage system permissions without having to trigger a recording.\n\n**Permissions to manage:**\n\n1. **Microphone Permission**\n   - Check status via AVCaptureDevice.authorizationStatus(for: .audio)\n   - Status values: .notDetermined, .restricted, .denied, .authorized\n   - \"Request Access\" button → AVCaptureDevice.requestAccess(for: .audio)\n   - \"Open System Settings\" button → opens Privacy \u0026 Security \u003e Microphone\n\n2. **Accessibility Permission** (needed for Smart Paste)\n   - Check status via AXIsProcessTrusted()\n   - \"Open System Settings\" button → opens Privacy \u0026 Security \u003e Accessibility\n   - Note: Cannot programmatically request — must direct user to System Settings\n   - Show only if Smart Paste is enabled (check @AppStorage(\"enableSmartPaste\"))\n\n**Existing code to reference:**\n- PermissionManager.swift — has permission checking logic\n- AccessibilityPermissionManager.swift — has accessibility checks\n- PermissionModals.swift — has UI for permission education (PermissionEducationModal, PermissionRecoveryModal)\n\n**Opening System Settings:**\n```swift\n// Microphone\nNSWorkspace.shared.open(URL(string: \"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone\")!)\n\n// Accessibility  \nNSWorkspace.shared.open(URL(string: \"x-apple.systempreferences:com.apple.preference.security?Privacy_Accessibility\")!)\n```\n\n**Structure:**\n```swift\nstruct DashboardPermissionsView: View {\n    @AppStorage(\"enableSmartPaste\") private var enableSmartPaste = false\n    @State private var micPermissionStatus: AVAuthorizationStatus = .notDetermined\n    @State private var accessibilityGranted = false\n    \n    var body: some View {\n        ScrollView {\n            VStack(alignment: .leading, spacing: 24) {\n                Text(\"Permissions\")\n                    .font(.system(size: 24, weight: .semibold))\n                    .foregroundColor(.white)\n                \n                Text(\"AudioWhisper needs these permissions to work properly\")\n                    .font(.system(size: 13))\n                    .foregroundColor(DashboardTheme.mutedText)\n                \n                // Microphone card\n                PermissionCard(\n                    title: \"Microphone\",\n                    icon: \"mic.fill\",\n                    description: \"Required to record audio for transcription\",\n                    status: micPermissionStatus == .authorized ? .granted : .notGranted,\n                    onRequest: { requestMicPermission() },\n                    onOpenSettings: { openMicSettings() }\n                )\n                \n                // Accessibility card (conditional)\n                if enableSmartPaste {\n                    PermissionCard(\n                        title: \"Accessibility\",\n                        icon: \"accessibility\",\n                        description: \"Required for Smart Paste (auto ⌘V)\",\n                        status: accessibilityGranted ? .granted : .notGranted,\n                        onRequest: nil, // Cannot request programmatically\n                        onOpenSettings: { openAccessibilitySettings() }\n                    )\n                }\n                \n                // Tips card\n                SettingsSectionCard(title: \"Tips\", icon: \"lightbulb\", iconColor: .yellow) {\n                    // Explain what each permission does\n                    // Explain that audio is not stored permanently\n                }\n            }\n            .padding(32)\n        }\n        .background(DashboardTheme.contentBackground)\n        .onAppear { checkPermissions() }\n    }\n}\n\n// Helper view for permission status display\nstruct PermissionCard: View {\n    let title: String\n    let icon: String\n    let description: String\n    let status: PermissionStatus\n    let onRequest: (() -\u003e Void)?\n    let onOpenSettings: () -\u003e Void\n    \n    enum PermissionStatus {\n        case granted, notGranted, restricted\n    }\n}\n```\n\n**Acceptance:** \n- Shows current permission status with visual indicator (green checkmark vs orange warning)\n- Request button works for microphone\n- Open Settings buttons open correct System Settings pane\n- Accessibility card only shows when Smart Paste is enabled\n- Status refreshes on appear","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T14:40:47.703505-05:00","updated_at":"2025-12-10T14:53:30.678652-05:00","closed_at":"2025-12-10T14:53:30.678652-05:00","labels":["dashboard","permissions","settings"],"dependencies":[{"issue_id":"AudioWhisper-c7f","depends_on_id":"AudioWhisper-an3","type":"blocks","created_at":"2025-12-10T14:41:32.774485-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-c7f","depends_on_id":"AudioWhisper-wzr","type":"blocks","created_at":"2025-12-10T14:41:32.824497-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-cek","title":"Migrate ModelManager to @Observable","description":"Convert ModelManager from ObservableObject to @Observable macro.\n\nFile: Sources/ModelManager.swift\n\nCurrent:\nclass ModelManager: ObservableObject {\n    static let shared = ModelManager()\n    @Published var downloadProgress: [WhisperModel: Double] = [:]\n    @Published var downloadingModels: Set\u003cWhisperModel\u003e = []\n    @Published var downloadStages: [WhisperModel: DownloadStage] = [:]\n    ...\n}\n\nAfter:\n@Observable\nclass ModelManager {\n    static let shared = ModelManager()\n    var downloadProgress: [WhisperModel: Double] = [:]\n    var downloadingModels: Set\u003cWhisperModel\u003e = []\n    var downloadStages: [WhisperModel: DownloadStage] = [:]\n    ...\n}\n\nUpdate usage sites in views that observe this singleton.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:38:42.362143-05:00","updated_at":"2025-12-10T19:17:36.642185-05:00","closed_at":"2025-12-10T19:17:36.642185-05:00","labels":["observable","swift-cleanup"],"dependencies":[{"issue_id":"AudioWhisper-cek","depends_on_id":"AudioWhisper-rie","type":"blocks","created_at":"2025-12-10T18:38:45.563545-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-e4x","title":"Add tests for PasteManager","description":"Create comprehensive tests for PasteManager.\n\nFile to create: Tests/PasteManagerTests.swift\n\nTest cases:\n1. Clipboard text handling\n2. Smart paste activation\n3. Target app detection\n4. Paste operation success/failure\n5. Accessibility permission handling\n6. Concurrent paste prevention\n\nMocks needed:\n- NSPasteboard mock\n- NSWorkspace mock for running apps\n\nCoverage targets:\n- paste() method\n- smartPaste() method\n- Error handling","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:41:25.478641-05:00","updated_at":"2025-12-10T19:43:55.058835-05:00","closed_at":"2025-12-10T19:43:55.058835-05:00","labels":["testing"],"dependencies":[{"issue_id":"AudioWhisper-e4x","depends_on_id":"AudioWhisper-wyw","type":"blocks","created_at":"2025-12-10T18:41:28.549389-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-ebd","title":"Add SwiftLint configuration","description":"Create .swiftlint.yml with rules matching AGENTS.md Swift guidelines:\n- Enforce foregroundStyle over foregroundColor\n- Warn on DispatchQueue.main.async  \n- Warn on force unwraps (!)\n- Warn on large files (\u003e500 lines)\n- Enforce access control\n\nAdd to Makefile:\n  lint: swiftlint lint --strict\n\nAdd SwiftLint to Package.swift as plugin or install via Homebrew.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:37:36.655309-05:00","updated_at":"2025-12-10T19:02:36.372839-05:00","closed_at":"2025-12-10T19:02:36.372839-05:00","labels":["dx","tooling"]}
{"id":"AudioWhisper-ee2","title":"Migrate foregroundColor to foregroundStyle","description":"Replace all foregroundColor() with foregroundStyle() across 17 files.\n\nFiles affected:\n- ContentView.swift\n- DashboardView.swift\n- DashboardProvidersView.swift\n- DashboardCorrectionView.swift\n- TranscriptionHistoryView.swift\n- WelcomeView.swift\n- HotKeyRecorderView.swift\n- DashboardSettingsCards.swift\n- SetupEnvironmentSheet.swift\n- RecordingButton.swift\n- UnifiedModelRow.swift\n- PermissionModals.swift\n- DashboardPreferencesView.swift\n- DashboardRecordingView.swift\n- MLXModelManagementView.swift\n- StatusDisplayComponents.swift\n- DashboardPermissionsView.swift\n\nSearch: rg 'foregroundColor\\(' Sources/\nReplace: .foregroundColor(.x) → .foregroundStyle(.x)\n\nReason: foregroundColor is deprecated, foregroundStyle supports gradients.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:37:57.358044-05:00","updated_at":"2025-12-10T19:03:32.897404-05:00","closed_at":"2025-12-10T19:03:32.897404-05:00","labels":["deprecated-api","swift-cleanup"]}
{"id":"AudioWhisper-ei0","title":"Remove unused imports","description":"Audit and remove unused imports from all Swift files.\n\nCommon candidates:\n- Combine (if only using @Published, not needed with @Observable)\n- ApplicationServices (may not be needed everywhere)\n- Foundation (often implicit)\n\nAfter @Observable migration, Combine imports in view files can likely be removed.\n\nManual audit or use Xcode's 'Organize Imports' feature.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-10T18:41:00.675744-05:00","updated_at":"2025-12-10T20:32:49.935161-05:00","closed_at":"2025-12-10T20:32:49.935161-05:00","labels":["code-quality","swift-cleanup"],"dependencies":[{"issue_id":"AudioWhisper-ei0","depends_on_id":"AudioWhisper-rzc","type":"blocks","created_at":"2025-12-10T18:41:03.62336-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-ei0","depends_on_id":"AudioWhisper-388","type":"blocks","created_at":"2025-12-10T18:42:36.368058-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-ei0","depends_on_id":"AudioWhisper-cek","type":"blocks","created_at":"2025-12-10T18:42:36.415413-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-ei0","depends_on_id":"AudioWhisper-t21","type":"blocks","created_at":"2025-12-10T18:42:36.462828-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-ei0","depends_on_id":"AudioWhisper-1x4","type":"blocks","created_at":"2025-12-10T18:42:36.510422-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-f2g","title":"Add tests for SourceUsageStore","description":"Create tests for SourceUsageStore.\n\nFile to create: Tests/SourceUsageStoreTests.swift\n\nTest cases:\n1. Usage recording\n2. Statistics calculation\n3. Persistence (UserDefaults)\n4. Max sources limit (50)\n5. Data retrieval\n\nFile: Sources/SourceUsageStore.swift\n\nSimilar pattern to UsageMetricsStoreTests.swift","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:42:05.528258-05:00","updated_at":"2025-12-10T20:32:49.59652-05:00","closed_at":"2025-12-10T20:32:49.59652-05:00","labels":["testing"]}
{"id":"AudioWhisper-gp4","title":"Review and reduce hardcoded frame sizes","description":"Review 47 occurrences of hardcoded frame sizes.\n\nSearch: rg '\\.frame\\(width:|\\.frame\\(height:|\\.frame\\(minWidth' Sources/\n\nFor each occurrence, evaluate:\n1. Can it use relative sizing (containerRelativeFrame)?\n2. Can it use flexible frames (.frame(maxWidth: .infinity))?\n3. Is it truly necessary for the design?\n\nKeep hardcoded sizes only for:\n- Icons with specific size requirements\n- Minimum touch targets (44pt)\n- Fixed-size UI elements (buttons, toggles)\n\nRemove arbitrary sizes that limit responsiveness.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-10T18:41:11.089138-05:00","updated_at":"2025-12-10T20:32:49.886882-05:00","closed_at":"2025-12-10T20:32:49.886882-05:00","labels":["code-quality","swift-cleanup"]}
{"id":"AudioWhisper-gsx","title":"Skip redundant Python validation in ParakeetService","description":"Add parakeetValidated cache to ParakeetService.swift. Skip Python import test if previously succeeded. Quick win ~2s saved.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-10T09:41:48.322439-05:00","updated_at":"2025-12-10T09:46:36.199258-05:00","closed_at":"2025-12-10T09:46:36.199258-05:00"}
{"id":"AudioWhisper-hd6","title":"Add tests for UvBootstrap","description":"Create tests for UvBootstrap.\n\nFile to create: Tests/UvBootstrapTests.swift\n\nTest cases:\n1. UV binary detection\n2. Environment setup\n3. Python environment creation\n4. Dependency installation\n5. Error handling for missing UV\n6. Path resolution\n\nFile: Sources/UvBootstrap.swift\n\nMock: FileManager, Process execution","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:41:48.507905-05:00","updated_at":"2025-12-10T20:32:49.743102-05:00","closed_at":"2025-12-10T20:32:49.743102-05:00","labels":["testing"]}
{"id":"AudioWhisper-hl0","title":"Remove SettingsView and update app entry points","description":"After all settings are migrated to Dashboard, remove the old SettingsView and update any code that references it.\n\n**Files to modify/delete:**\n\n1. **DELETE:** Sources/SettingsView.swift\n   - Only after ALL settings functionality is verified working in Dashboard\n\n2. **Modify:** Sources/AudioWhisperApp.swift (or wherever menu is defined)\n   - Remove \"Settings...\" menu item that opened SettingsView\n   - OR redirect it to open Dashboard with a specific nav item\n\n3. **Modify:** Any file that posts .openSettings notification or calls openSettings()\n   - Search for: `NotificationCenter.default.post(name: .openSettings`\n   - Search for: `openSettings()`\n   - Update to open Dashboard instead: `DashboardWindowManager.shared.showDashboardWindow()`\n\n4. **Check NotificationNames.swift:**\n   - If `.openSettings` notification exists, either remove it or repurpose it\n\n5. **Update UsageDashboardView.swift:**\n   - Currently embedded in SettingsView — verify it still works standalone\n   - The \"Open Dashboard\" button should continue to work\n\n**Search commands to find references:**\n```bash\nrg -n \"SettingsView\" Sources/\nrg -n \"openSettings\" Sources/\nrg -n \"\\.openSettings\" Sources/\n```\n\n**Verification checklist:**\n- [ ] App compiles without SettingsView.swift\n- [ ] No menu item tries to open old settings\n- [ ] Dashboard opens correctly from menu bar\n- [ ] All settings are accessible and functional in Dashboard\n- [ ] No orphaned code referencing SettingsView\n\n**Acceptance:**\n- SettingsView.swift is deleted\n- App compiles and runs\n- All settings accessible via Dashboard\n- No dead code or broken references","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T14:41:12.178574-05:00","updated_at":"2025-12-10T15:06:51.966817-05:00","closed_at":"2025-12-10T15:06:51.966817-05:00","labels":["cleanup","deprecation"],"dependencies":[{"issue_id":"AudioWhisper-hl0","depends_on_id":"AudioWhisper-huk","type":"blocks","created_at":"2025-12-10T14:41:40.442302-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-huk","title":"Wire settings section views into DashboardView navigation","description":"Connect all the new settings section views to the DashboardView's main content area.\n\n**File to modify:** Sources/DashboardView.swift\n\n**Prerequisites:** All these files must exist:\n- DashboardRecordingView.swift\n- DashboardProvidersView.swift\n- DashboardCorrectionView.swift\n- DashboardPreferencesView.swift\n- DashboardPermissionsView.swift\n\n**Changes needed:**\n\n1. **Update mainContent ViewBuilder** (around line 161):\nReplace the placeholder `Text(\"Coming soon\")` cases with actual views:\n\n```swift\n@ViewBuilder\nprivate var mainContent: some View {\n    switch selectedNav {\n    case .dashboard:\n        dashboardContent\n    case .transcripts:\n        transcriptsContent\n    case .categories:\n        categoriesContent\n    case .recording:\n        DashboardRecordingView()\n    case .providers:\n        DashboardProvidersView()\n    case .correction:\n        DashboardCorrectionView()\n    case .preferences:\n        DashboardPreferencesView()\n    case .permissions:\n        DashboardPermissionsView()\n    }\n}\n```\n\n2. **Ensure all views use dark theme:**\nEach view should have `.background(DashboardTheme.contentBackground)` and use theme colors.\n\n3. **Test navigation:**\n- Click each nav item in sidebar\n- Verify correct view loads\n- Verify no layout issues\n\n4. **Remove \"Settings\" button from sidebar footer** (if present):\nThe sidebar used to have an \"openSettings()\" call — this should be removed since settings are now inline.\n\nCheck around line 130 for any settings button and remove it.\n\n**Acceptance:**\n- All 8 nav items work (Dashboard, Transcripts, Categories, Recording, Providers, Correction, Preferences, Permissions)\n- No compiler errors\n- Views display with consistent dark theme\n- Navigation is smooth with no flicker","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T14:40:59.327508-05:00","updated_at":"2025-12-10T15:00:21.376554-05:00","closed_at":"2025-12-10T15:00:21.376554-05:00","labels":["dashboard","integration","settings"],"dependencies":[{"issue_id":"AudioWhisper-huk","depends_on_id":"AudioWhisper-51c","type":"blocks","created_at":"2025-12-10T14:41:36.67082-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-huk","depends_on_id":"AudioWhisper-aot","type":"blocks","created_at":"2025-12-10T14:41:36.720695-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-huk","depends_on_id":"AudioWhisper-kg7","type":"blocks","created_at":"2025-12-10T14:41:36.76929-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-huk","depends_on_id":"AudioWhisper-i3t","type":"blocks","created_at":"2025-12-10T14:41:36.818406-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-huk","depends_on_id":"AudioWhisper-c7f","type":"blocks","created_at":"2025-12-10T14:41:36.867684-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-hvm","title":"Add tests for ErrorPresenter","description":"Create tests for ErrorPresenter.\n\nFile to create: Tests/ErrorPresenterTests.swift\n\nTest cases:\n1. Error display formatting\n2. Alert presentation\n3. Error recovery options\n4. Dismissal handling\n\nFile: Sources/ErrorPresenter.swift","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:42:00.766143-05:00","updated_at":"2025-12-10T20:32:49.645196-05:00","closed_at":"2025-12-10T20:32:49.645196-05:00","labels":["testing"]}
{"id":"AudioWhisper-i3t","title":"Create DashboardPreferencesView for general and history settings","description":"Create the Preferences settings section view for the dashboard.\n\n**Create file:** Sources/DashboardPreferencesView.swift\n\n**Settings to include (from SettingsView.swift):**\n\n1. **General Settings** (lines 185-220):\n   - `@AppStorage(\"startAtLogin\")` — Bool, calls SMAppService on change\n   - `@AppStorage(\"immediateRecording\")` — Bool (Express Mode)\n   - `@AppStorage(\"autoBoostMicrophoneVolume\")` — Bool\n   - `@AppStorage(\"enableSmartPaste\")` — Bool\n   - `@AppStorage(\"playCompletionSound\")` — Bool\n\n2. **History Settings** (lines 222-262):\n   - `@AppStorage(\"transcriptionHistoryEnabled\")` — Bool\n   - `@AppStorage(\"transcriptionRetentionPeriod\")` stored as raw String\n     - Convert to/from RetentionPeriod enum (defined in DataManager.swift)\n     - Options: 1 Week, 1 Month, 3 Months, Forever\n   - \"View History...\" button → calls HistoryWindowManager.shared.showHistoryWindow()\n   - \"Open Recordings Folder...\" button → opens FileManager.default.temporaryDirectory\n\n3. **Storage Settings** (from Local Whisper section, lines 555-590):\n   - `@AppStorage(\"maxModelStorageGB\")` — Double\n   - Picker with options: 1, 2, 5, 10, 20 GB\n   - Display current usage (from ModelManager.shared.getTotalModelsSize())\n\n4. **About Section** (lines 725-745):\n   - Version info from VersionInfo.fullVersionInfo\n   - Git hash (if available)\n   - Build date\n\n**Helper functions:**\n- `updateLoginItem(enabled:)` — uses SMAppService.mainApp.register()/unregister()\n- `showHistoryWindow()` — calls HistoryWindowManager.shared.showHistoryWindow()\n- `formatBytes(_:)` — for storage display\n\n**Required imports:**\n```swift\nimport SwiftUI\nimport ServiceManagement\n```\n\n**Structure:**\n```swift\nstruct DashboardPreferencesView: View {\n    var body: some View {\n        ScrollView {\n            VStack(alignment: .leading, spacing: 24) {\n                Text(\"Preferences\")\n                    .font(.system(size: 24, weight: .semibold))\n                    .foregroundColor(.white)\n                \n                // General card\n                SettingsSectionCard(title: \"General\", icon: \"gearshape\", iconColor: .gray) {\n                    SettingsToggleRow(title: \"Start at Login\", ...)\n                    SettingsToggleRow(title: \"Express Mode\", subtitle: \"Hotkey starts immediately\", ...)\n                    // etc.\n                }\n                \n                // History card\n                SettingsSectionCard(title: \"History\", icon: \"clock.arrow.circlepath\", iconColor: .blue) {\n                    SettingsToggleRow(title: \"Save Transcription History\", ...)\n                    // Conditional: retention picker, buttons\n                }\n                \n                // Storage card\n                SettingsSectionCard(title: \"Storage\", icon: \"externaldrive\", iconColor: .orange) {\n                    // Max storage picker\n                    // Current usage display\n                }\n                \n                // About card\n                SettingsSectionCard(title: \"About\", icon: \"info.circle\", iconColor: .secondary) {\n                    // Version, git hash, build date\n                }\n            }\n            .padding(32)\n        }\n        .background(DashboardTheme.contentBackground)\n    }\n}\n```\n\n**Acceptance:** All toggles work and persist, login item registration works, history window opens, version info displays correctly.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T14:40:27.937763-05:00","updated_at":"2025-12-10T14:56:20.346071-05:00","closed_at":"2025-12-10T14:56:20.346071-05:00","labels":["dashboard","preferences","settings"],"dependencies":[{"issue_id":"AudioWhisper-i3t","depends_on_id":"AudioWhisper-an3","type":"blocks","created_at":"2025-12-10T14:41:29.461395-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-i3t","depends_on_id":"AudioWhisper-wzr","type":"blocks","created_at":"2025-12-10T14:41:29.510491-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-ib9","title":"Update ParakeetService to use daemon","description":"Route transcription calls through MLDaemonManager instead of spawning new Python processes. Remove process spawning code, use daemon RPC.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T09:42:10.70982-05:00","updated_at":"2025-12-10T10:01:32.448975-05:00","closed_at":"2025-12-10T10:01:32.448975-05:00","dependencies":[{"issue_id":"AudioWhisper-ib9","depends_on_id":"AudioWhisper-600","type":"blocks","created_at":"2025-12-10T09:42:24.815451-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-ikr","title":"Migrate to Dynamic Type fonts","description":"Replace .font(.system(size:)) with semantic Dynamic Type fonts in 15 files.\n\nFiles affected:\n- ContentView.swift\n- DashboardView.swift\n- WelcomeView.swift\n- DashboardProvidersView.swift\n- DashboardCorrectionView.swift\n- DashboardSettingsCards.swift\n- UnifiedModelRow.swift\n- DashboardRecordingView.swift\n- DashboardPreferencesView.swift\n- RecordingButton.swift\n- MLXModelManagementView.swift\n- PermissionModals.swift\n- StatusDisplayComponents.swift\n- TranscriptionHistoryView.swift\n- DashboardPermissionsView.swift\n\nReplace patterns:\n.font(.system(size: 12)) → .font(.caption)\n.font(.system(size: 14)) → .font(.body) or .font(.subheadline)\n.font(.system(size: 16)) → .font(.body)\n.font(.system(size: 18)) → .font(.headline)\n.font(.system(size: 24)) → .font(.title2)\n\nFor custom scaling (macOS 14+/iOS 26+): .font(.body.scaled(by: 1.2))\n\nSearch: rg '\\.font\\(\\.system\\(size:' Sources/\n\nReason: Dynamic Type respects user accessibility settings.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:40:43.273392-05:00","updated_at":"2025-12-10T19:56:06.539436-05:00","closed_at":"2025-12-10T19:56:06.539436-05:00","labels":["accessibility","swift-cleanup"]}
{"id":"AudioWhisper-j0y","title":"Split TranscriptionHistoryView.swift","description":"TranscriptionHistoryView.swift is 558 lines - extract components.\n\nFile: Sources/TranscriptionHistoryView.swift\n\nSuggested extraction:\n1. TranscriptionHistoryRow.swift - Individual list row view\n2. TranscriptionHistoryFilters.swift - Filter/search UI\n3. TranscriptionHistoryEmpty.swift - Empty state view\n4. TranscriptionHistoryToolbar.swift - Toolbar actions\n\nKeep main view for list composition and state management.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:40:12.048388-05:00","updated_at":"2025-12-10T19:44:00.57201-05:00","closed_at":"2025-12-10T19:44:00.57201-05:00","labels":["code-quality","refactor"]}
{"id":"AudioWhisper-k2u","title":"Extract HotKeyRecorderView to separate file with dark theme support","description":"Extract HotKeyRecorderView from SettingsView.swift into its own file and adapt for dark theme.\n\n**Current location:** Sources/SettingsView.swift lines 1360-1550 (approximately)\n\n**Create file:** Sources/HotKeyRecorderView.swift\n\n**The view handles:**\n- Recording keyboard shortcuts (modifiers + key)\n- Event monitoring via NSEvent.addLocalMonitorForEvents\n- Converting key codes to Key enum (from HotKey library)\n- Validating hotkey combinations\n- Formatting hotkey as string (e.g., \"⌘⇧Space\")\n\n**Copy these from SettingsView.swift:**\n- `HotKeyRecorderView` struct (entire implementation)\n- `keyFromKeyCode(_:)` function\n- `keyToString(_:)` function\n- `isFunctionKey(_:)` function\n- `isValidHotkey(modifiers:key:)` function\n- `formatHotkey(modifiers:key:)` function\n\n**Dark theme adaptations:**\n- Change `.foregroundColor(.blue)` to use `DashboardTheme.accentCyan`\n- Change `.background(Color.blue.opacity(0.1))` to use `DashboardTheme.accentCyan.opacity(0.15)`\n- Change `.buttonStyle(.bordered)` button colors to match theme\n\n**Required imports:**\n```swift\nimport SwiftUI\nimport HotKey\nimport AppKit\n```\n\n**Acceptance:** \n- File compiles independently\n- HotKeyRecorderView works in both light and dark contexts\n- SettingsView.swift can import and use the extracted view (for backwards compat during migration)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T14:39:16.277991-05:00","updated_at":"2025-12-10T14:52:44.760068-05:00","closed_at":"2025-12-10T14:52:44.760068-05:00","labels":["extraction","settings","ui"]}
{"id":"AudioWhisper-kg7","title":"Create DashboardCorrectionView for semantic correction settings","description":"Create the Correction settings section view for the dashboard.\n\n**Create file:** Sources/DashboardCorrectionView.swift\n\n**Settings to include (from SettingsView.swift lines 603-720):**\n\n1. **Semantic Correction Mode Picker**\n   - `@AppStorage(\"semanticCorrectionMode\")` stored as `semanticCorrectionModeRaw` (String)\n   - Convert to/from SemanticCorrectionMode enum\n   - Options: Off, Local (MLX), Cloud\n\n2. **Local MLX Settings** (shown when mode is .localMLX):\n   - Info banner explaining feature (Apple Silicon + Python deps)\n   - Environment status (`envReady`)\n   - \"Install Dependencies\" button if not ready\n   - MLXModelManagementView embedded (or recreated with dark theme)\n     - Uses MLXModelManager.shared\n     - Shows recommended models with UnifiedModelRow\n     - `@AppStorage(\"semanticCorrectionModelRepo\")` — selected model repo string\n   - \"Verify MLX Model\" button\n   - Link to MLX documentation\n\n3. **Cloud Settings** (shown when mode is .cloud):\n   - Info text: \"Uses same cloud provider as transcription\"\n   - Note: \"Correction runs only when cloud provider is used\"\n\n**State needed:**\n```swift\n@StateObject private var mlxModelManager = MLXModelManager.shared\n@State private var envReady = false\n@State private var isCheckingEnv = false\n@State private var isVerifyingMLX = false\n@State private var mlxVerifyMessage: String?\n@State private var showSetupSheet = false\n@State private var isSettingUp = false\n@State private var setupLogs = \"\"\n@State private var setupStatus: String?\n```\n\n**Helper functions to copy from SettingsView:**\n- `checkEnvReady()`\n- `venvPythonPath()`\n- `verifyMLXModel()`\n- `runUvSetupSheet(title:onComplete:)`\n- `revealEnvInFinder()`\n- `revealPromptsInFinder()`\n\n**Note:** The env check and setup logic is shared with DashboardProvidersView (Parakeet). Consider:\n- Either duplicate the logic (simpler, acceptable)\n- Or extract to a shared helper/ViewModel later\n\n**MLXModelManagementView integration:**\n- The existing MLXModelManagementView in Sources/MLXModelManagementView.swift uses light theme\n- Either: wrap it and force dark colorScheme, OR recreate the model list inline using UnifiedModelRow with dark styling\n- Recommendation: Recreate inline for consistency, reusing MLXEntry from ModelEntry.swift\n\n**Structure:**\n```swift\nstruct DashboardCorrectionView: View {\n    var body: some View {\n        ScrollView {\n            VStack(alignment: .leading, spacing: 24) {\n                Text(\"Semantic Correction\")\n                    .font(.system(size: 24, weight: .semibold))\n                    .foregroundColor(.white)\n                \n                // Mode picker card\n                SettingsSectionCard(title: \"Mode\", icon: \"text.badge.checkmark\", iconColor: .green) {\n                    // Picker\n                }\n                \n                // Conditional content based on mode\n                if mode == .localMLX {\n                    // MLX setup card\n                    // Model list card\n                } else if mode == .cloud {\n                    // Info card\n                }\n            }\n            .padding(32)\n        }\n        .background(DashboardTheme.contentBackground)\n    }\n}\n```\n\n**Acceptance:** Mode picker works, MLX models can be downloaded/selected, verification works, env setup works.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T14:40:10.663065-05:00","updated_at":"2025-12-10T14:56:23.915261-05:00","closed_at":"2025-12-10T14:56:23.915261-05:00","labels":["correction","dashboard","mlx","settings"],"dependencies":[{"issue_id":"AudioWhisper-kg7","depends_on_id":"AudioWhisper-an3","type":"blocks","created_at":"2025-12-10T14:41:26.339308-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-kg7","depends_on_id":"AudioWhisper-wzr","type":"blocks","created_at":"2025-12-10T14:41:26.390521-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-njz","title":"Add swift-format configuration","description":"Create .swift-format config for consistent code style.\n\nAdd to Makefile:\n  format: swift-format -i -r Sources/ Tests/\n\nConsider pre-commit hook for auto-formatting.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:37:40.327711-05:00","updated_at":"2025-12-10T19:02:57.550737-05:00","closed_at":"2025-12-10T19:02:57.550737-05:00","labels":["dx","tooling"]}
{"id":"AudioWhisper-p72","title":"Add UI snapshot tests for key views","description":"Add snapshot tests for main UI views.\n\nFiles to create:\n- Tests/Snapshots/ContentViewSnapshotTests.swift\n- Tests/Snapshots/DashboardViewSnapshotTests.swift\n- Tests/Snapshots/WelcomeViewSnapshotTests.swift\n\nConsider using:\n- swift-snapshot-testing library\n- Or built-in XCTest attachments\n\nTest various states:\n- Recording/idle states\n- Permission granted/denied\n- Error states\n- Light/dark mode\n\nDepends on: File splits complete for stable view structure.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-10T18:43:18.16452-05:00","updated_at":"2025-12-10T20:32:49.792003-05:00","closed_at":"2025-12-10T20:32:49.792003-05:00","labels":["testing","ui"],"dependencies":[{"issue_id":"AudioWhisper-p72","depends_on_id":"AudioWhisper-r5w","type":"blocks","created_at":"2025-12-10T18:43:22.077146-05:00","created_by":"daemon"},{"issue_id":"AudioWhisper-p72","depends_on_id":"AudioWhisper-vu8","type":"blocks","created_at":"2025-12-10T18:43:22.123456-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-r5w","title":"Split ContentView.swift into smaller components","description":"ContentView.swift is 1130 lines - too large for maintainability.\n\nFile: Sources/ContentView.swift\n\nSuggested extraction:\n1. ContentViewState.swift - All @State/@AppStorage properties\n2. ContentViewNotifications.swift - Observer setup/teardown (lines ~200-400)\n3. ContentViewRecording.swift - Recording logic (startRecording, stopAndProcess)\n4. ContentViewTranscription.swift - Transcription processing logic\n5. ContentViewKeyHandlers.swift - Keyboard event handling\n\nKeep ContentView.swift as the main view composition with body.\n\nEach extracted file should be a focused extension or helper struct.\n\nConsider: Some logic may belong in a ViewModel instead of View extensions.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:39:46.924329-05:00","updated_at":"2025-12-10T19:09:53.459077-05:00","closed_at":"2025-12-10T19:09:53.459077-05:00","labels":["code-quality","refactor"]}
{"id":"AudioWhisper-rie","title":"Migrate DispatchQueue.main.async to @MainActor","description":"Replace DispatchQueue.main.async with @MainActor or MainActor.run in 17 files.\n\nFiles affected:\n- HotKeyRecorderView.swift\n- ContentView.swift\n- AudioRecorder.swift\n- AccessibilityPermissionManager.swift\n- ModelManager.swift\n- DashboardCorrectionView.swift\n- PermissionManager.swift\n- WelcomeWindow.swift\n- KeyboardEventHandler.swift\n- AudioWhisperApp.swift\n- PressAndHoldKeyMonitor.swift\n- WindowManager.swift\n- PasteManager.swift\n- WindowController.swift\n- DashboardProvidersView.swift\n- SoundManager.swift\n- DashboardPermissionsView.swift\n\nSearch: rg 'DispatchQueue\\.main\\.async' Sources/\n\nReplace patterns:\n1. For methods: Add @MainActor to method signature\n2. For closures in async context: await MainActor.run { ... }\n3. For callbacks: Consider if caller should be @MainActor\n\nReason: Modern Swift concurrency is safer and clearer than GCD.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-10T18:38:27.513925-05:00","updated_at":"2025-12-10T19:08:53.15416-05:00","closed_at":"2025-12-10T19:08:53.15416-05:00","labels":["concurrency","swift-cleanup"]}
{"id":"AudioWhisper-rzc","title":"Migrate singleton stores to @Observable","description":"Convert remaining ObservableObject singletons to @Observable.\n\nFiles:\n- Sources/SourceUsageStore.swift (final class SourceUsageStore: ObservableObject)\n- Sources/UsageMetricsStore.swift (final class UsageMetricsStore: ObservableObject)\n- Sources/MicrophoneVolumeManager.swift (class MicrophoneVolumeManager: ObservableObject)\n- Sources/SoundManager.swift (class SoundManager: ObservableObject) \n- Sources/WindowManager.swift (class WindowManager: ObservableObject)\n- Sources/AppCategoryManager.swift (if ObservableObject)\n\nThese are lower priority as they're mostly singletons with less frequent observation.\n\nSearch: rg 'class.*ObservableObject' Sources/","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:39:35.403389-05:00","updated_at":"2025-12-10T19:44:00.524224-05:00","closed_at":"2025-12-10T19:44:00.524224-05:00","labels":["observable","swift-cleanup"],"dependencies":[{"issue_id":"AudioWhisper-rzc","depends_on_id":"AudioWhisper-rie","type":"blocks","created_at":"2025-12-10T18:39:38.512897-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-t0g","title":"Split DashboardProvidersView.swift","description":"DashboardProvidersView.swift is 576 lines - extract provider sections.\n\nFile: Sources/DashboardProvidersView.swift\n\nSuggested extraction:\n1. OpenAIProviderSection.swift\n2. LocalWhisperProviderSection.swift  \n3. ParakeetProviderSection.swift\n4. ProviderModelRow.swift (if not already UnifiedModelRow)\n\nEach provider section has its own settings, model selection, API key handling.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:40:07.374608-05:00","updated_at":"2025-12-10T19:34:49.034961-05:00","closed_at":"2025-12-10T19:34:49.034961-05:00","labels":["code-quality","refactor"]}
{"id":"AudioWhisper-t21","title":"Migrate MLXModelManager to @Observable","description":"Convert MLXModelManager from ObservableObject to @Observable macro.\n\nFile: Sources/MLXModelManager.swift\n\nCurrent:\nfinal class MLXModelManager: ObservableObject {\n    static let shared = MLXModelManager()\n    @Published var downloadedModels: Set\u003cString\u003e = []\n    @Published var modelSizes: [String: Int64] = [:]\n    @Published var isDownloading: [String: Bool] = [:]\n    @Published var downloadProgress: [String: Double] = [:]\n    ...\n}\n\nAfter:\n@Observable\nfinal class MLXModelManager {\n    static let shared = MLXModelManager()\n    var downloadedModels: Set\u003cString\u003e = []\n    var modelSizes: [String: Int64] = [:]\n    var isDownloading: [String: Bool] = [:]\n    var downloadProgress: [String: Double] = [:]\n    ...\n}\n\nUpdate usage in DashboardProvidersView, MLXModelManagementView, etc.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:38:52.857935-05:00","updated_at":"2025-12-10T19:20:08.461197-05:00","closed_at":"2025-12-10T19:20:08.461197-05:00","labels":["observable","swift-cleanup"],"dependencies":[{"issue_id":"AudioWhisper-t21","depends_on_id":"AudioWhisper-rie","type":"blocks","created_at":"2025-12-10T18:38:56.286746-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-thd","title":"Update Package.swift for directory restructure","description":"After directory restructure, update Package.swift paths.\n\nFile: Package.swift\n\nChanges needed:\n1. Update path: for Sources target\n2. Update exclude: patterns for new structure\n3. Update resources: paths for Python scripts\n4. Verify test target paths still work\n\nRun: swift build \u0026\u0026 swift test\n\nThis is a sub-task of the directory restructure.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:43:27.342428-05:00","updated_at":"2025-12-10T20:32:49.547016-05:00","closed_at":"2025-12-10T20:32:49.547016-05:00","labels":["dx","refactor"],"dependencies":[{"issue_id":"AudioWhisper-thd","depends_on_id":"AudioWhisper-3jo","type":"blocks","created_at":"2025-12-10T18:43:31.316362-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-u9a","title":"Add tests for MLXCorrectionService","description":"Create tests for MLXCorrectionService.\n\nFile to create: Tests/MLXCorrectionServiceTests.swift\n\nTest cases:\n1. Correction request formatting\n2. Response parsing\n3. Model availability check\n4. Error handling for daemon unavailable\n5. Timeout handling\n6. System prompt customization\n\nMock: MLDaemonManager responses\n\nRelated: Tests/SemanticCorrectionServiceTests.swift exists for the other service.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:41:33.524665-05:00","updated_at":"2025-12-10T19:43:54.910464-05:00","closed_at":"2025-12-10T19:43:54.910464-05:00","labels":["testing"]}
{"id":"AudioWhisper-vu8","title":"Split DashboardView.swift into tab views","description":"DashboardView.swift is 1016 lines - extract tab content into separate files.\n\nFile: Sources/DashboardView.swift\n\nCurrent structure has multiple tabs inline. Extract:\n1. Already extracted: DashboardCorrectionView, DashboardPermissionsView, etc.\n2. Remaining inline content should move to dedicated views\n3. DashboardView.swift should only contain:\n   - Tab bar / navigation\n   - Tab state management  \n   - Composition of child views\n\nReview for computed properties that should be separate views (Observable performance).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:39:55.666877-05:00","updated_at":"2025-12-10T19:44:00.621763-05:00","closed_at":"2025-12-10T19:44:00.621763-05:00","labels":["code-quality","refactor"]}
{"id":"AudioWhisper-wv3","title":"Update MLXCorrectionService to use daemon","description":"Route correction calls through MLDaemonManager instead of spawning new Python processes. Remove process spawning code, use daemon RPC.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T09:42:14.625634-05:00","updated_at":"2025-12-10T09:55:44.677162-05:00","closed_at":"2025-12-10T09:55:44.677162-05:00","dependencies":[{"issue_id":"AudioWhisper-wv3","depends_on_id":"AudioWhisper-600","type":"blocks","created_at":"2025-12-10T09:42:24.873054-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-wyw","title":"Migrate PasteManager to @Observable","description":"Convert PasteManager from ObservableObject to @Observable macro.\n\nFile: Sources/PasteManager.swift\n\nReview @Published properties and convert:\nclass PasteManager: ObservableObject { ... }\n\n→\n\n@Observable\nclass PasteManager { ... }\n\nUpdate usage in ContentView (@StateObject).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T18:39:26.664494-05:00","updated_at":"2025-12-10T19:22:31.286438-05:00","closed_at":"2025-12-10T19:22:31.286438-05:00","labels":["observable","swift-cleanup"],"dependencies":[{"issue_id":"AudioWhisper-wyw","depends_on_id":"AudioWhisper-rie","type":"blocks","created_at":"2025-12-10T18:39:29.468285-05:00","created_by":"daemon"}]}
{"id":"AudioWhisper-wzr","title":"Create DashboardSettingsCards.swift with reusable card components","description":"Create shared card components styled for the dark dashboard theme. These will be used by all settings section views.\n\n**Create file:** Sources/DashboardSettingsCards.swift\n\n**Use DashboardTheme colors** (defined in DashboardView.swift lines 4-26):\n- `sidebarBackground`: Color(red: 0.11, green: 0.11, blue: 0.12)\n- `contentBackground`: Color(red: 0.14, green: 0.14, blue: 0.15)\n- `cardBackground`: Color(red: 0.16, green: 0.16, blue: 0.18)\n- `accentCyan`: Color(red: 0.20, green: 0.85, blue: 0.85)\n- `mutedText`: Color(white: 0.55)\n- `subtleText`: Color(white: 0.40)\n\n**Components to create:**\n\n1. **SettingsSectionCard** — wrapper for a group of settings\n```swift\nstruct SettingsSectionCard\u003cContent: View\u003e: View {\n    let title: String\n    let icon: String\n    let iconColor: Color\n    @ViewBuilder let content: () -\u003e Content\n    // Renders: icon + title header, then content, wrapped in cardBackground rounded rect\n}\n```\n\n2. **SettingsToggleRow** — dark-themed toggle row\n```swift\nstruct SettingsToggleRow: View {\n    let title: String\n    let subtitle: String?\n    let icon: String?\n    let iconColor: Color\n    @Binding var isOn: Bool\n    // HStack with icon, VStack(title, subtitle), Spacer, Toggle\n    // Use .toggleStyle(.switch), tint with accentCyan\n}\n```\n\n3. **SettingsPickerRow** — menu picker row\n```swift\nstruct SettingsPickerRow\u003cT: Hashable, Content: View\u003e: View {\n    let title: String\n    let selection: Binding\u003cT\u003e\n    @ViewBuilder let content: () -\u003e Content\n    // HStack with title, Spacer, Picker with .menu style\n}\n```\n\n4. **SettingsButtonRow** — action button row\n```swift\nstruct SettingsButtonRow: View {\n    let title: String\n    let icon: String\n    let action: () -\u003e Void\n    // Styled button matching dashboard aesthetic\n}\n```\n\n5. **SettingsInfoRow** — caption/help text\n```swift\nstruct SettingsInfoRow: View {\n    let text: String\n    let icon: String?\n    // Small info text with optional icon, uses subtleText color\n}\n```\n\n**Acceptance:** File compiles, components can be previewed, colors match dashboard theme.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-10T14:39:04.313262-05:00","updated_at":"2025-12-10T14:50:21.47987-05:00","closed_at":"2025-12-10T14:50:21.47987-05:00","labels":["dashboard","foundation","settings","ui"]}
{"id":"AudioWhisper-xo1","title":"Replace onTapGesture with Button in UnifiedModelRow","description":"Replace onTapGesture() with Button for accessibility.\n\nFile: Sources/UnifiedModelRow.swift\n\nSearch: rg 'onTapGesture' Sources/\n\nCurrent pattern:\nSomeView()\n    .onTapGesture { action() }\n\nReplace with:\nButton(action: { action() }) {\n    SomeView()\n}\n.buttonStyle(.plain)\n\nReason: Button works with VoiceOver, keyboard navigation, and visionOS eye tracking.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T18:40:26.515607-05:00","updated_at":"2025-12-10T19:47:21.7053-05:00","closed_at":"2025-12-10T19:47:21.7053-05:00","labels":["accessibility","swift-cleanup"]}
